<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>User And Questionnaire</title>
</head>

    <script>
        var questions = [[${Questionnaire.getQuestionList()}]];
        for (var i = 0; i < questions; i++) {
            if (questions[i] instanceof Selection) {
                var xValues = [questions[i].getOptions()];
                for (var j = 0; j < xValues[i]; j++) {
                    var yValues = [questions[i].getAnswers()].filter(yValues => yValues == xValues[i]).length
                }
                new Chart("myChart", {
                    type: "pie",
                    data: {
                        labels: xValues,
                        database: [{
                            backgroundColor: barColors,
                            data: yValues,
                        }]
                    },
                    options: {
                        title: {
                            display: true,
                            text: "Selection Question"
                        }
                    }
                })
            } else if (questions[i] instanceof Range) {


            }



        }
    </script>
<body>

<canvas id="myCanvas" height="300" width="300">

</canvas>
<div th:if="${isEmpty}">
    <h1>You have no question, please go back to the main page!</h1>
    <input type=button value="Main Page"><a th:href="@{/home}"></a>
</div>
<div th:if="${not isEmpty}">
    <h1 th:text="${Questionnaire.id+' : '+Questionnaire.name}"></h1>
    <ol>
        <div th:each="question: ${Questionnaire.getQuestionList()}">
            <li><p th:text="${question.question}"></p></li>
            <ul>
                <div th:each="answer:${question.getAnswers()}">
                    <li><p th:text="${answer}"></p></li>
                </div>
            </ul>
        </div>
    </ol>
</div>
</body>
</html>